jQuery(function(a){({init:function(){a(document).on("pafw_bind_event",this.bindEvent.bind(this)),this.bindEvent()},bindEvent:function(){this.$discountBlock=a(".pafw-checkout-block.pafw-discount-block"),a(".pafw_apply_point",this.$discountBlock).off("click").on("click",this.applyPoint.bind(this)),a("input[name=mshop_point]",this.$discountBlock).off("keydown").on("keydown",function(b){13===b.keyCode&&a(".pafw_apply_point").trigger("click")}),this.$discountBlock.length>1&&a("input[name=mshop_point]",this.$discountBlock).off("change").on("change",function(b){a("input[name=mshop_point]",this.$discountBlock).val(a(this).val())}),a(".pafw-remove-point",this.$form).off("click").on("click",this.removePoint.bind(this))},applyPoint:function(){var b=0|parseInt(a("input[name=mshop_point]",this.$discountBlock).val());if(b<=0)return void a.fn.pafw_alert("사용할 포인트를 입력해주세요.");this.$discountBlock.trigger("update_cart",["apply_point",{mshop_point:b,_mshop_point:a("input[name=_mshop_point]",this.$discountBlock).val()}])},removePoint:function(){a("input[name=_mshop_point]",this.$discountBlock).val(""),this.$discountBlock.trigger("update_cart",["apply_point",{mshop_point:0,_mshop_point:0}])}}).init()});