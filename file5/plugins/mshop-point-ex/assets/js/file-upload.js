!function(a){var b=void 0!==a("<input/>")[0].multiple,c=/msie/i.test(navigator.userAgent);a.fn.customFile=function(){return this.each(function(){var d=a(this).addClass("custom-file-upload-hidden"),e=a('<div class="file-upload-wrapper">'),f=a('<input type="text" class="file-upload-input" readonly/>'),g=a('<button type="button" class="file-upload-button">파일 선택</button>'),h=a('<label class="file-upload-button" for="'+d[0].id+'">파일 선택</label>');d.css({position:"absolute",left:"-9999px"}),e.insertAfter(d).append(d,f,c?h:g),d.attr("tabIndex",-1),g.attr("tabIndex",-1),g.click(function(){d.focus().click()}),d.change(function(){var a,c,e=[];if(b){a=d[0].files;for(var g=0,h=a.length;g<h;g++)e.push(a[g].name);c=e.join(", ")}else c=d.val().split("\\").pop();f.val(c).attr("title",c).focus()}),f.on({blur:function(){d.trigger("blur")},keydown:function(a){if(13===a.which)c||d.trigger("click");else{if(8!==a.which&&46!==a.which)return 9===a.which&&void 0;d.replaceWith(d=d.clone(!0)),d.trigger("change"),f.val("")}}})})},b||a(document).on("change","input.customfile",function(){var b=a(this),c="customfile_"+(new Date).getTime(),d=b.parent(),e=d.siblings().find(".file-upload-input").filter(function(){return!this.value}),f=a('<input type="file" id="'+c+'" name="'+b.attr("name")+'"/>');setTimeout(function(){b.val()?e.length||(d.after(f),f.customFile()):(e.parent().remove(),d.appendTo(d.parent()),d.find("input").focus())},1)})}(jQuery);