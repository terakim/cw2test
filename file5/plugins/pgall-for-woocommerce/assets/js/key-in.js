jQuery(function(a){"use strict";a(document).ready(function(){var b=a("[id^=pafw-order].postbox"),c=function(){return b.is(".processing")||b.parents(".processing").length},d=function(){c(b)||b.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},e=function(){b.removeClass("processing").unblock()};({init:function(){a("#pafw-request-key-in-payment").on("click",this.requestPayment)},requestPayment:function(){if(!c()){var b=a("."+_pafw_key_in.master_id+"-payment-fields"),f=a("input[name=pafw_"+_pafw_key_in.master_id+"_card_no]",b).val(),g=a("input[name=pafw_"+_pafw_key_in.master_id+"_expiry_year",b).val(),h=a("input[name=pafw_"+_pafw_key_in.master_id+"_expiry_month]",b).val(),i=a("input[name=pafw_"+_pafw_key_in.master_id+"_cert_no]",b).val(),j=a("input[name=pafw_"+_pafw_key_in.master_id+"_card_pw]",b).val(),k=a("select[name=pafw_"+_pafw_key_in.master_id+"_card_quota]",b).val();if(_.isEmpty(f))alert("카드번호를 입력해주세요");else if(_.isEmpty(i))alert("주민번호 또는 사업자번호를 입력해주세요");else if(_.isEmpty(j))alert("비밀번호 앞 2자리를 입력해주세요");else{var l={action:_pafw_key_in.slug+"-pafw_ajax_action",payment_method:_pafw_key_in.payment_method,order_id:_pafw_key_in.order_id,_wpnonce:_pafw_key_in._wpnonce,payment_action:"key_in_payment"};l["pafw_"+_pafw_key_in.master_id+"_card_no"]=f,l["pafw_"+_pafw_key_in.master_id+"_expiry_year"]=g,l["pafw_"+_pafw_key_in.master_id+"_expiry_month"]=h,l["pafw_"+_pafw_key_in.master_id+"_cert_no"]=i,l["pafw_"+_pafw_key_in.master_id+"_card_pw"]=j,l["pafw_"+_pafw_key_in.master_id+"_card_quota"]=k,confirm("결제를 요청하시겠습니까?")&&(d(),a.post(ajaxurl,l,function(a){a?"true"===a.success||a.success?(alert(a.data),location.reload()):alert(a.data):alert("전체취소 요청 결과를 수신하지 못하였습니다.\n처리 결과 확인을 위해 영수증을 확인해 보시기 바랍니다."),e()}))}}}}).init()})});