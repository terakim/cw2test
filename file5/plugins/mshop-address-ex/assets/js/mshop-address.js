jQuery(function(a){"use strict";String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return b=b||0,this.indexOf(a,b)===b});var b=a('form[name="checkout"]').find("p.validate-required").not(".mshop-always-kr"),c=!1,d="";a(document).on("country_to_state_changing",function(e,f,g){if(d=g.hasClass("woocommerce-shipping-fields")?"shipping":"billing",!1===c&&""===f){c=!0;var h=a("select.country_to_state");return void(h.length>0?h.val("KR").trigger("change"):a("input.country_to_state").val("KR").trigger("change"))}"KR"===f?(g.find("p.form-row.mshop-enable-kr").css("display","block"),g.find("div.mshop-enable-kr").css("display","block"),g.find("p.form-row:not(.mshop-enable-kr)").css("display","none"),_msaddr_search.use_address_book||(g.find("p.form-row.mshop-disable-kr input").not("#billing_country,#shipping_country").val(""),a(":input#billing_postcode").val(a(":input#mshop_billing_address-postnum").val()),a(":input#shipping_postcode").val(a(":input#mshop_shipping_address-postnum").val())),g.find("p.form-row:not(.mshop-enable-kr)").filter(function(b,c){return-1!==a.inArray(a(c).attr("id"),["billing_country_chosen","billing_country_field","shipping_country_chosen","shipping_country_field","ship-to-different-address","order_comments_field"])}).css("display","block"),g.find("p input[type=submit]").parent().hasClass("form-row")||g.find("p input[type=submit]").parent().css("display","block"),b.filter(function(b,c){return c.id.indexOf(d)>=0&&!a(c).hasClass("mshop-enable-kr")}).removeClass("validate-required"),b.filter(function(b,c){return c.id.indexOf(d)>=0&&a(c).hasClass("mshop-enable-kr")}).addClass("validate-required")):(g.find("p.form-row.mshop-enable-kr").css("display","none"),g.find("div.mshop-enable-kr").css("display","none"),g.find("p.form-row:not(.mshop-enable-kr)").css("display","block"),g.find("p.form-row.mshop-always-kr").css("display","block"),g.find("p.form-row:not(.mshop-enable-kr)").removeClass("validate-required"),b.filter(function(b,c){return c.id.indexOf(d)>=0&&!a(c).hasClass("mshop-enable-kr")}).addClass("validate-required"),b.filter(function(b,c){return c.id.indexOf(d)>=0&&a(c).hasClass("mshop-enable-kr")}).removeClass("validate-required"),_.each(a(".form-row",".woocommerce-billing-fields, .woocommerce-shipping-fields"),function(b){a("input[type=hidden]",a(b)).length>0&&a(b).css("display","none")})),g.find("p.form-row.create-account").css("display","block"),g.find("div.create-account p").css("display","block")}),a(document).ready(function(){var b=a("select.msaddr-multiselect");b.length>0&&void 0===b.select2&&(b.select2(),b.on("select2:opening select2:closing",function(b){a(this).parent().find(".select2-search__field").prop("disabled",!0)})),a(".ms_addr_1").magnificPopup({type:"inline",midClick:!0,closeOnBgClick:!1,closeBtnInside:!1,showCloseBtn:!1,fixedContentPos:!0,callbacks:{open:function(){this.content.find(".search_result_postnum").val(""),this.content.find(".search_result_addr").val("")},close:function(){if(""!==this.content.find(".search_result_postnum").val()){var b=a(this.currItem.el).data("id");if(this.currItem.el.closest("div").find("#"+b+"-postnum").val(this.content.find(".search_result_postnum").val()),this.currItem.el.closest("div").find("#"+b+"-addr1").val(this.content.find(".search_result_addr").val()),this.currItem.el.closest("div").find("#"+b+"-addr2").val(""),"mshop_billing_address"===b||"mshop_shipping_address"===b){this.currItem.el.closest("div").attr("class").startsWith("woocommerce-billing-fields")?(this.currItem.el.closest("div").find("#billing_postcode").val(this.content.find(".search_result_postnum").val()),this.currItem.el.closest("div").find("#billing_address_1_field").val(this.content.find(".search_result_addr").val())):"edit_address"!=this.currItem.el.closest("div").attr("class")&&(this.currItem.el.closest("div").find("#shipping_postcode").val(this.content.find(".search_result_postnum").val()),this.currItem.el.closest("div").find("#shipping_address_1_field").val(this.content.find(".search_result_addr").val())),setTimeout(function(){a("body").trigger("update_checkout")})}}}}}),_msaddr_search.is_edit_address&&a("select.country_to_state").trigger("change"),""!==_msaddr_search.default_country&&_.each(a("form.woocommerce-checkout"),function(b){a(b).trigger("country_to_state_changing",[_msaddr_search.default_country,a(b)])}),a("input[name=mshop_billing_address-postnum],input[name=mshop_billing_address-addr1],input[name=mshop_shipping_address-postnum],input[name=mshop_shipping_address-addr1]").on("click",function(){a(this).closest("div").find(".ms_addr_1").trigger("click")})})});