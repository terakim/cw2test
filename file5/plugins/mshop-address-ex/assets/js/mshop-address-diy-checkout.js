jQuery(function(a){"use strict";String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return b=b||0,this.indexOf(a,b)===b});var b=a('form[name="checkout"]').find("p.validate-required"),c=!1,d="";a(document).on("country_to_state_changing",function(e,f,g){if(void 0!==g&&0!==g.length){if(d=g.hasClass("woocommerce-shipping-fields")?"shipping":"billing",!1===c&&""===f)return c=!0,void a("select.country_to_state").val("KR").trigger("change");"KR"===f?(g.find("p.form-row.mshop-enable-kr").css("display",_msaddr_search.form_field_display_style),g.find("div.mshop-enable-kr").css("display",_msaddr_search.form_field_display_style),g.find("p.form-row:not(.mshop-enable-kr)").css("display","none"),_msaddr_search.use_address_book||(g.find("p.form-row.mshop-disable-kr input").not("#billing_country,#shipping_country").val(""),a(":input#billing_postcode").val(a(":input#mshop_billing_address-postnum").val()),a(":input#shipping_postcode").val(a(":input#mshop_shipping_address-postnum").val())),g.find("p.form-row:not(.mshop-enable-kr)").filter(function(b,c){return-1!==a.inArray(a(c).attr("id"),["billing_country_chosen","billing_country_field","shipping_country_chosen","shipping_country_field","ship-to-different-address","order_comments_field"])}).css("display",_msaddr_search.form_field_display_style),g.find("p input[type=submit]").parent().hasClass("form-row")||g.find("p input[type=submit]").parent().css("display",_msaddr_search.form_field_display_style),b.filter(function(b,c){return c.id.includes(d)&&!a(c).hasClass("mshop-enable-kr")}).removeClass("validate-required"),b.filter(function(b,c){return c.id.includes(d)&&a(c).hasClass("mshop-enable-kr")}).addClass("validate-required")):(g.find("p.form-row.mshop-enable-kr").css("display","none"),g.find("div.mshop-enable-kr").css("display","none"),g.find("p.form-row:not(.mshop-enable-kr)").css("display",_msaddr_search.form_field_display_style),g.find("p.form-row.mshop-always-kr").css("display",_msaddr_search.form_field_display_style),g.find("p.form-row:not(.mshop-enable-kr)").removeClass("validate-required"),b.filter(function(b,c){return c.id.includes(d)&&!a(c).hasClass("mshop-enable-kr")}).addClass("validate-required"),b.filter(function(b,c){return c.id.includes(d)&&a(c).hasClass("mshop-enable-kr")}).removeClass("validate-required"),_.each(a(".form-row"),function(b){a("input[type=hidden]",a(b)).length>0&&a(b).css("display","none")})),g.find("p.form-row.create-account").css("display",_msaddr_search.form_field_display_style),g.find("div.create-account p").css("display",_msaddr_search.form_field_display_style)}}),a(document).ready(function(){function b(){a(".ms_addr_1").magnificPopup({type:"inline",midClick:!0,closeOnBgClick:!1,closeBtnInside:!1,showCloseBtn:!1,fixedContentPos:!0,callbacks:{open:function(){this.content.find(".search_result_postnum").val(""),this.content.find(".search_result_addr").val("")},close:function(){if(""!==this.content.find(".search_result_postnum").val()){var b=a(this.currItem.el).data("id");if(this.currItem.el.closest("div").find("#"+b+"-postnum").val(this.content.find(".search_result_postnum").val()),this.currItem.el.closest("div").find("#"+b+"-addr1").val(this.content.find(".search_result_addr").val()),this.currItem.el.closest("div").find("#"+b+"-addr2").val(""),"mshop_billing_address"===b||"mshop_shipping_address"===b){this.currItem.el.closest("div").attr("class").startsWith("woocommerce-billing-fields")?(this.currItem.el.closest("div").find("#billing_postcode").val(this.content.find(".search_result_postnum").val()),this.currItem.el.closest("div").find("#billing_address_1_field").val(this.content.find(".search_result_addr").val())):"edit_address"!=this.currItem.el.closest("div").attr("class")&&(this.currItem.el.closest("div").find("#shipping_postcode").val(this.content.find(".search_result_postnum").val()),this.currItem.el.closest("div").find("#shipping_address_1_field").val(this.content.find(".search_result_addr").val())),setTimeout(function(){a("body").trigger("update_checkout")})}}}}}),a("select.country_to_state").trigger("change"),a("input[name=mshop_billing_address-postnum],input[name=mshop_billing_address-addr1],input[name=mshop_shipping_address-postnum],input[name=mshop_shipping_address-addr1]").on("click",function(){a(this).closest("div").find(".ms_addr_1").trigger("click")}),_.each(_msaddr_search.autocomplete_fields,function(b,c){a("input[name="+c+"]").on("blur",function(){var c=a("input[name="+b+"]");_.isEmpty(c.val())&&c.val(a(this).val())})})}var c=a("select.msaddr-multiselect");c.length>0&&void 0===c.select2&&(c.select2(),c.on("select2:opening select2:closing",function(b){a(this).parent().find(".select2-search__field").prop("disabled",!0)})),b(),a(document).bind("fragment_updated",function(a,c){_.intersection(c,["billing-fields","shipping-fields"]).length>0&&b()}),""!==_msaddr_search.default_country&&_.each(a("form.woocommerce-checkout"),function(b){a(b).trigger("country_to_state_changing",[_msaddr_search.default_country,a(b)])}),"undefined"==typeof _msaddr_diy_checkout&&a("body").trigger("update_checkout")})}),jQuery(document).ready(function(a){"yes"===_msaddr_search.tel_numeric&&(a("input[type=tel]").numeric(),a("input[name=billing_phone]").numeric(),a("input[name=billing_phone_kr]").numeric(),a("input[name=shipping_phone]").numeric(),a("input[name=shipping_phone_kr]").numeric())}),function(a,b){"function"==typeof define&&define.amd?define("jquery.numeric",["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):b(a.jQuery)}(this,function(a){function b(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var c=1.1.toLocaleString().match(/\d(.*?)\d/)[1],d=new RegExp("\\"+b(c),"g"),e=function(){var a=null;return function(){if(null===a){var b=document.createElement("input");b.type="number",b.value="1",a=1===b.valueAsNumber}return a}}();a.fn.numeric=function(b){return this.each(function(d,f){var g="INPUT"===f.tagName;"boolean"==typeof b&&(b={decimal:b}),b=b||{},void 0===b.negative&&(b.negative=!g||(!f.getAttribute("min")||0>parseFloat(f.getAttribute("min")))),d=!1===b.decimal?"":"string"==typeof b.decimal&&b.decimal?b.decimal:c;var h=!!b.negative;return d&&"INPUT"===this.tagName&&"number"===this.type&&"valueAsNumber"in this&&e()&&(d=c),void 0===b.decimal&&g&&(g=f.getAttribute("step"))&&"any"!==g&&-1===g.indexOf(".")&&(d=""),a(f).data("numeric.decimal",d).data("numeric.negative",h).on("keypress.numericValue",a.fn.numeric._event).on("keyup.numericValue",a.fn.numeric._event).on("blur.numericValue",a.fn.numeric._event).on("input.numericValue",a.fn.numeric._event)}),this},a.fn.valueAsNumber=function(){if(!this.length)return null;var a=arguments;if(a.length)return this.each(function(){if("INPUT"===this.tagName&&"number"===this.type&&"valueAsNumber"in this&&e()){var b=a[0];void 0===b?this.value="":this.valueAsNumber=b}else this.value=null===a[0]||void 0===a[0]?"":a[0].toString().replace(/\./,b.data(this,"numeric.decimal")||c)});if("INPUT"===this[0].tagName&&"number"===this[0].type&&"valueAsNumber"in this[0]&&e())return this[0].valueAsNumber;var f=this.data("numeric.decimal");return f=f?new RegExp(b(f),"g"):d,""===this[0].value?null:parseFloat(this[0].value.replace(f,"."))},a.fn.numeric._event=function(c){c=a.data(this,"numeric.decimal");var d=a.data(this,"numeric.negative"),e=this.value,f="",g=!1;if("number"!==this.type)var h=this.selectionStart,i=this.selectionEnd;c&&b(c),c&&b(c);for(var j,k=0;k<e.length;k++)j=e.charAt(k),"0"<=j&&"9">=j||d&&"-"===j&&!f.length?f+=j:c&&e.substr(k,c.length)===c&&!g?(g=!0,f+=c,k+=c.length-1):(k<=h&&h--,k<=i&&i--);e!==f&&(this.value=f,"number"!==this.type&&(this.selectionStart=h,this.selectionEnd=i))},a.fn.removeNumeric=function(){return this.removeData("numeric.decimal").removeData("numeric.negative").off(".numericValue")}});